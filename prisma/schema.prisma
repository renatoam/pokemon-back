generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
  shadowDatabaseUrl = env("SHADOW_DATABASE_URL")
}

model Pokemon {
  id                    Int      @id @default(autoincrement())
  name                  String
  height                Int
  weight                Int
  squadSlot             Int
  // esse typesRelation n√£o aparece no resultado da query, ele existe apenas pra estabelecer o relacionamento
  typesRelation         Types     @relation(fields: [types], references: [id])
  types                 Int
  movesRelation         Moves     @relation(fields: [moves], references: [id])
  moves                 Int
  spritesRelation       Sprites   @relation(fields: [sprites], references: [id])
  sprites               Int
  abilitiesRelation     Abilities  @relation(fields: [abilities], references: [id])
  abilities             Int
  prevEvolutionRelation Pokemon? @relation("Evolution", fields: [prevEvolution], references: [id])
  prevEvolution         Int?     @unique
  nextEvolutionRelation Pokemon? @relation("Evolution")
  nextEvolution         Int?
  trainer Trainer?
  pokemons Pokemons[]
}

model Pokemons {
  id Int @id @default(autoincrement())
  pokemons Pokemon[]
  squad Squad?
}

model Types {
  id Int @id @default(autoincrement())
  types String[]
  pokemon Pokemon[]
}

model Moves {
  id Int @id @default(autoincrement())
  moves String[]
  pokemon Pokemon[]
}

model Sprites {
  id Int @id @default(autoincrement())
  sprites String[]
  pokemon Pokemon[]
}

model Abilities {
  id Int @id @default(autoincrement())
  abilities String[]
  pokemon Pokemon[]
}

model Trainer {
  id Int @id @default(autoincrement())
  name String
  age Int?
  gender String?
  password String
  email String @unique
  nickname String
  avatar String?
  favoriteRel Pokemon @relation(fields: [favorite], references: [id])
  favorite Int @unique
  squad Squad?
}

model Squad {
  id Int @id @default(autoincrement())
  pokemonsRel Pokemons @relation(fields: [pokemons], references: [id])
  pokemons Int @unique
  trainerRel Trainer @relation(fields: [trainer], references: [id])
  trainer Int @unique
}
